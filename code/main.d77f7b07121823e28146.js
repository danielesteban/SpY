(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{0:function(t,e,n){n("FlHw"),t.exports=n("tjUo")},FlHw:function(t,e,n){},tjUo:function(t,e,n){"use strict";n.r(e);var y=n("Womt");function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=function(t){function p(t){var n,e,o,r=t.geometry,i=t.material;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),e=this,o=b(p).call(this,r,i),n=!o||"object"!==d(o)&&"function"!=typeof o?v(e):o;var a=new y.d;n.add(a);var c=new y.d;a.add(c);var s=new y.d;c.add(s);var u=new y.d;c.add(u);var f=new y.d;c.add(f);var l=new y.d;a.add(l);var h=new y.d;return a.add(h),n.bind(new y.A([a,c,s,u,f,l,h])),n.mixer=new y.c(v(v(n))),n.actions=Object.keys(p.animations).reduce(function(t,e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(t){m(e,t,n[t])})}return e}({},t,m({},e,n.mixer.clipAction(p.animations[e])))},{}),n.animation="idle",n.actions.idle.timeScale=.5,n.actions.idle.play(),n.rotationAux=new y.E,n.movementAux=new y.F,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(p,y["B"]),i(p,null,[{key:"geometryFromLimbs",value:function(t){var n=new y.m;return Object.keys(t).forEach(function(e){t[e].faces.forEach(function(t){t.materialIndex=p.Bones[e]}),n.merge(t[e])}),n.faces.forEach(function(t){n.vertices[t.a].bone=t.materialIndex,n.vertices[t.b].bone=t.materialIndex,n.vertices[t.c].bone=t.materialIndex,t.materialIndex=0}),n.vertices.forEach(function(t){n.skinIndices.push(new y.G(t.bone,0,0,0)),n.skinWeights.push(new y.G(1,0,0,0))}),(new y.e).fromGeometry(n)}}]),i(p,[{key:"onAnimationTick",value:function(t){var e=t.delta,n=this.actions.walk.timeScale,o=this.destination,r=this.destinationMarker,i=this.mixer,a=this.movementAux,c=this.position,s=this.rotationSpeed,u=this.targetRotation;if(i.update(e),u){var f=e*s,l=u-this.rotation.y;this.rotation.y+=Math.min(Math.max(l,-f),f),Math.abs(l)<=f&&(this.targetRotation=!1)}if(o){var h=c.distanceTo(o),p=1.5*e*n;c.add(a.copy(o).sub(c).normalize().multiplyScalar(Math.min(h,p))),h<=p&&(this.setAnimation("idle"),this.destination=!1,r&&(r.visible=!1))}}},{key:"setAnimation",value:function(t){var e=this.actions;this.animation!==t&&(e[this.animation].fadeOut(.2),this.animation=t,e[this.animation].reset().fadeIn(.2).play())}},{key:"walkTo",value:function(t){var e=this.destinationMarker,n=this.position,o=this.rotationAux;this.setAnimation("walk"),this.destination=t.clone(),e&&(e.position.copy(this.destination),e.visible=!0);for(var r=o.set(t.x-n.x,t.z-n.z).angle();this.rotation.y<-Math.PI;)this.rotation.y+=2*Math.PI;for(;this.rotation.y>Math.PI;)this.rotation.y-=2*Math.PI;for(this.targetRotation=.5*Math.PI-r;this.targetRotation<-Math.PI;)this.targetRotation+=2*Math.PI;for(;this.targetRotation>Math.PI;)this.targetRotation-=2*Math.PI;this.targetRotation-this.rotation.y>Math.PI?this.targetRotation-=2*Math.PI:this.targetRotation-this.rotation.y<-Math.PI&&(this.targetRotation+=2*Math.PI),this.rotationSpeed=1.5*Math.abs(this.targetRotation-this.rotation.y)}}]),p}();c.Bones={hip:0,torso:1,head:2,leftArm:3,rightArm:4,leftLeg:5,rightLeg:6};var s=function(t,e,n){return(new y.t).setFromEuler(new y.k(t,e,n)).toArray()};c.animations={idle:new y.b("idle",1,[new y.u(".bones[".concat(c.Bones.torso,"].quaternion"),new Float32Array([0,.5,1]),new Float32Array(o(s(0,-.05*Math.PI,0)).concat(o(s(0,.05*Math.PI,0)),o(s(0,-.05*Math.PI,0))))),new y.u(".bones[".concat(c.Bones.head,"].quaternion"),new Float32Array([0,.75,1]),new Float32Array(o(s(-.075*Math.PI,0,-.025*Math.PI)).concat(o(s(-.075*Math.PI,0,.025*Math.PI)),o(s(-.075*Math.PI,0,-.025*Math.PI))))),new y.u(".bones[".concat(c.Bones.leftArm,"].quaternion"),new Float32Array([0,.75,1]),new Float32Array(o(s(0,0,-.05*Math.PI)).concat(o(s(0,0,-.1*Math.PI)),o(s(0,0,-.05*Math.PI))))),new y.u(".bones[".concat(c.Bones.rightArm,"].quaternion"),new Float32Array([0,.25,1]),new Float32Array(o(s(0,0,.05*Math.PI)).concat(o(s(0,0,.1*Math.PI)),o(s(0,0,.05*Math.PI)))))]),walk:new y.b("walk",1,[new y.u(".bones[".concat(c.Bones.torso,"].quaternion"),new Float32Array([0,.5,1]),new Float32Array(o(s(-.02*Math.PI,0,.01*Math.PI)).concat(o(s(.02*Math.PI,0,-.01*Math.PI)),o(s(-.02*Math.PI,0,.01*Math.PI))))),new y.u(".bones[".concat(c.Bones.head,"].quaternion"),new Float32Array([0,.5,1]),new Float32Array(o(s(0,0,-.025*Math.PI)).concat(o(s(0,0,.025*Math.PI)),o(s(0,0,-.025*Math.PI))))),new y.u(".bones[".concat(c.Bones.leftArm,"].quaternion"),new Float32Array([0,.5,1]),new Float32Array(o(s(.1*Math.PI,0,0)).concat(o(s(-.1*Math.PI,0,-.1*Math.PI)),o(s(.1*Math.PI,0,0))))),new y.u(".bones[".concat(c.Bones.rightArm,"].quaternion"),new Float32Array([0,.5,1]),new Float32Array(o(s(-.1*Math.PI,0,.1*Math.PI)).concat(o(s(.1*Math.PI,0,0)),o(s(-.1*Math.PI,0,.1*Math.PI))))),new y.u(".bones[".concat(c.Bones.leftLeg,"].quaternion"),new Float32Array([0,.5,1]),new Float32Array(o(s(-.15*Math.PI,0,.01*Math.PI)).concat(o(s(.15*Math.PI,0,-.01*Math.PI)),o(s(-.15*Math.PI,0,.01*Math.PI))))),new y.u(".bones[".concat(c.Bones.rightLeg,"].quaternion"),new Float32Array([0,.5,1]),new Float32Array(o(s(.15*Math.PI,0,-.01*Math.PI)).concat(o(s(-.15*Math.PI,0,.01*Math.PI)),o(s(.15*Math.PI,0,-.01*Math.PI)))))])};var f=c;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var w=function(t){function i(t){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=this;var r=p(p(e=!(o=l(i).call(this,{geometry:i.geometry(t),material:i.material}))||"object"!==u(o)&&"function"!=typeof o?p(n):o)).skeleton.bones;return Object.keys(i.bones).forEach(function(t){r[f.Bones[t]].position.copy(i.bones[t])}),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(i,f),i}();w.bones={hip:new y.F(0,.5,0),torso:new y.F(0,0,0),head:new y.F(0,.5,0),leftArm:new y.F(-.15,.475,0),rightArm:new y.F(.15,.475,0),leftLeg:new y.F(-.075,0,0),rightLeg:new y.F(.075,0,0)},w.geometry=function(e){var t=new y.i(.175,.15,.5,6);t.translate(0,.25,0),t.faces.forEach(function(t){t.color.set(e.torso||10027008)});var n=new y.C(.2,8,4);n.translate(0,.2,0),n.faces.forEach(function(t){t.color.set(e.head)});var o=new y.C(.05);o.faces.forEach(function(t){t.color.set(e.eyes)});var r=o.clone();o.translate(-.1,.2,.15),r.translate(.1,.2,.15),n.merge(o),n.merge(r);var i=new y.i(.05,.03,.4,6);i.faces.forEach(function(t){t.color.set(e.arms)});var a=i.clone();i.translate(0,-.2,0),a.translate(0,-.2,0);var c=new y.i(.05,.05,.5,4);c.faces.forEach(function(t){t.color.set(e.legs)});var s=c.clone();c.translate(0,-.25,0),s.translate(0,-.25,0);var u=f.geometryFromLimbs({torso:t,head:n,leftArm:i,rightArm:a,leftLeg:c,rightLeg:s});return u.computeVertexNormals(),u},w.material=new y.p({skinning:!0,vertexColors:y.I});var g=w,P=n("1339"),M=n.n(P),O=n("fWck");function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var A=function(){function o(t){var e=t.mount,n=void 0===e?document.body:e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.mount=n,this.pointer={current:new y.E(0,0),movement:{x:0,y:0},normalized:new y.E(0,0),last:new y.E(0,0),raycaster:new y.v,wheel:0},this.touches=M()(window,{filtered:!0,preventSimulated:!1,target:n}).on("start",this.onPointerDown.bind(this)).on("move",this.onPointerMove.bind(this)).on("end",this.onPointerUp.bind(this)),Object(O.addWheelListener)(window,this.onPointerWheel.bind(this)),window.addEventListener("contextmenu",function(t){return t.preventDefault()},!1),window.addEventListener("resize",this.onResize.bind(this),!1),this.onResize()}var t,e,n;return t=o,(e=[{key:"getPointerFrame",value:function(){var t=this.pointer,e=function(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},e=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(t){var e,n,o;e=r,o=i[n=t],n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o})}return r}({},t);return t.primaryDown=!1,t.primaryUp=!1,t.secondaryDown=!1,t.secondaryUp=!1,t.movement={x:0,y:0},t.wheel=0,e}},{key:"onPointerDown",value:function(t){var e=t.button,n=this.pointer;switch(e){case 0:n.primary=!0,n.primaryDown=!0;break;case 2:n.secondary=!0,n.secondaryDown=!0}}},{key:"onPointerMove",value:function(t,e){var n=I(e,2),o=n[0],r=n[1],i=this.pointer,a=this.size,c=a.width,s=a.height;i.current.x=o,i.current.y=r,i.normalized.x=o/c*2-1,i.normalized.y=1-r/s*2,i.movement={x:i.current.x-i.last.x,y:i.current.y-i.last.y},i.last.copy(i.current)}},{key:"onPointerUp",value:function(t){var e=t.button,n=this.pointer;switch(e){case 0:n.primary=!1,n.primaryUp=!0;break;case 2:n.secondary=!1,n.secondaryUp=!0}}},{key:"onPointerWheel",value:function(t){var e=t.deltaY;this.pointer.wheel=e}},{key:"onResize",value:function(){var t=this.mount;this.size=t.getBoundingClientRect()}}])&&x(t.prototype,e),n&&x(t,n),o}();function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function n(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=new y.f(.25,16);return e.rotateX(-.5*Math.PI),e.translate(0,.002,0),(t=k(this,S(n).call(this,e,new y.p({color:16711680,opacity:.25,transparent:!0})))).visible=!1,t}var e,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(n,y["o"]),e=n,(o=[{key:"onAnimationTick",value:function(t){var e=t.time,n=this.scale;if(this.visible){var o=.75+.125*(1+Math.sin(4*e));n.set(o,1,o)}}}])&&_(e.prototype,o),r&&_(e,r),n}();n("MZFn");function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var L=function(t){function o(){var t,e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=this,(t=!(n=z(o).call(this,60,1,.01,2048))||"object"!==T(n)&&"function"!=typeof n?C(e):n).distance=6,t.offset=new y.F(0,1.5,0),t.tilt=-.5*Math.PI,t.pitch=.125*Math.PI,t.speed=1.5,t.step=new y.F,t.root=new y.q,t.root.add(C(C(t))),t.updateOrbit(),t}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(o,y["r"]),e=o,(n=[{key:"onAnimationTick",value:function(t){var e=t.delta,n=this.root.position,o=this.speed,r=this.step,i=this.target;!i||n.distanceTo(i)<=.1||(r.copy(i).sub(n).normalize().multiplyScalar(e*o),n.add(r))}},{key:"updateOrbit",value:function(){var t=this.distance,e=this.offset,n=this.pitch,o=this.root,r=this.tilt;this.position.set(Math.cos(r)*Math.cos(n),Math.sin(n),Math.sin(-r)*Math.cos(n)).normalize().multiplyScalar(t).add(e),this.lookAt(o.position)}}])&&D(e.prototype,n),r&&D(e,r),o}();function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){function p(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.background,n=void 0===e?new y.h(16777215):e,o=t.size,r=void 0===o?1:o,i=t.subdivisions,a=void 0===i?10:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var c=new y.s(2048,2048,2,2);c.translate(0,0,-.001),c.rotateX(-.5*Math.PI);var s=y.y.basic.vertexShader.replace("#include <clipping_planes_pars_vertex>",["#include <clipping_planes_pars_vertex>","varying vec3 vPosition;"].join("\n")).replace("#include <fog_vertex>",["#include <fog_vertex>","vPosition = (modelMatrix * vec4( transformed, 1.0 )).xyz;"].join("\n")),u=1/r,f=u*a,l=y.y.basic.fragmentShader.replace("#include <clipping_planes_pars_fragment>",["#include <clipping_planes_pars_fragment>","varying vec3 vPosition;","float getGrid(float scale) {"," vec2 coord = vPosition.xz * scale;"," vec2 grid = abs(fract(coord - 0.5) - 0.5) / fwidth(coord);"," return 1.0 - min(min(grid.x, grid.y), 1.0);","}"].join("\n")).replace("vec4 diffuseColor = vec4( diffuse, opacity );",["float primaryGrid = getGrid(".concat(u).concat(u%1==0?".0":"",");"),"float secondaryGrid = getGrid(".concat(f).concat(f%1==0?".0":"",");"),"vec3 grid = mix(mix(diffuse, diffuse * 0.95, secondaryGrid), diffuse * 1.15, primaryGrid);","vec4 diffuseColor = vec4(grid, opacity);"].join("\n")),h=new y.z({name:"grid-material",uniforms:y.D.clone(y.y.basic.uniforms),fragmentShader:l,vertexShader:s,extensions:{derivatives:!0},fog:!0});return h.color=h.uniforms.diffuse.value,h.color.set(n),G(this,q(p).call(this,c,h))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(p,y["o"]),p}();function J(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var H=function(){function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.background,n=void 0===e?new y.h(2241314):e,o=t.mount,r=void 0===o?document.body:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),this.camera=new L,this.clock=new y.g,this.mount=r,this.renderer=new y.J({alpha:!1,antialias:!0}),this.renderer.setAnimationLoop(this.onAnimate.bind(this)),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.setClearColor(n),r.appendChild(this.renderer.domElement),this.root=new y.w,this.root.fog=new y.l(n,.03),this.root.add(new y.a(4539717));var i=new y.j(16777215,.8);i.position.set(1,1,1),this.root.add(i);var a=new y.j(16777215,.2);a.position.set(-1,-1,1),this.root.add(a),this.root.add(this.camera.root),this.grid=new W({background:n.clone().multiplyScalar(.75)}),this.root.add(this.grid),window.addEventListener("resize",this.onResize.bind(this),!1),this.onResize()}var t,e,n;return t=c,n=[{key:"fixThreeJSFog",value:function(){y.x.fog_pars_vertex=y.x.fog_pars_vertex.replace("varying float fogDepth;","varying vec4 fogDepth;"),y.x.fog_vertex=y.x.fog_vertex.replace("fogDepth = -mvPosition.z;","fogDepth = mvPosition;"),y.x.fog_pars_fragment=y.x.fog_pars_fragment.replace("varying float fogDepth;","varying vec4 fogDepth;"),y.x.fog_fragment=y.x.fog_fragment.replace("float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );",["float fogDist = length(fogDepth);","float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDist * fogDist * LOG2 ) );"].join("\n")).replace("float fogFactor = smoothstep( fogNear, fogFar, fogDepth );","float fogFactor = smoothstep( fogNear, fogFar, length(fogDepth) );")}}],(e=[{key:"onAnimate",value:function(){var t=this.clock,e=this.camera,n=this.grid,o=this.renderer,r=this.root,i=this.stats;i&&i.begin();var a={delta:Math.min(t.getDelta(),1),time:t.oldTime/1e3};this.onAnimationTick&&this.onAnimationTick(a),r.children.forEach(function(t){t.onAnimationTick&&t.onAnimationTick(a)}),e.onAnimationTick&&e.onAnimationTick(a),n.position.set(Math.floor(e.position.x),0,Math.floor(e.position.z)),o.render(r,e),i&&i.end()}},{key:"onResize",value:function(){var t=this.camera,e=this.mount,n=this.renderer,o=e.getBoundingClientRect(),r=o.width,i=o.height;n.setSize(r,i),t.aspect=r/i,t.updateProjectionMatrix()}}])&&J(t.prototype,e),n&&J(t,n),c}();H.fixThreeJSFog(),y.u.DefaultInterpolation=y.n,y.H.DefaultInterpolation=y.n;var N=H;var X,V,Y,Z=new A({mount:document.body}),K=new N({mount:document.body}),Q={dudes:(X=Array(13),function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(X)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(X)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(t,e){var n=new g({arms:2236962,eyes:0===e?10027008:10066329*Math.random(),head:0===e?3355443:10066329*Math.random(),legs:2236962,torso:0===e?10027008:10066329*Math.random()});return n.position.set(Math.floor((e+1)/2)*((e+1)%2==0?1:-1),0,0),K.root.add(n),n}),walkTo:function(n){var o=n.x,r=n.z;this.dudes.forEach(function(t,e){n.x=o+Math.floor((e+1)/2)*((e+1)%2==0?1:-1),n.z=r+-1*Math.floor((e+1)/2),0<e&&(n.x+=2*Math.random()-1,n.z+=2*Math.random()-1,t.actions.walk.timeScale=.8+.4*Math.random()),t.walkTo(n)})}},$=(V=Q.dudes,Y=1,function(t){if(Array.isArray(t))return t}(V)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(V,Y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0];$.destinationMarker=new E,K.root.add($.destinationMarker),K.camera.target=$.position,K.onAnimationTick=function(){var t=K.camera,e=K.grid,n=Z.getPointerFrame();if(n.primaryUp){var o=n.raycaster;o.setFromCamera(n.normalized,t);var r=o.intersectObject(e)[0];if(!r)return;Q.walkTo(r.point)}if(n.secondary){var i=n.movement;t.tilt-=.003*i.x,t.pitch+=.003*i.y,t.pitch=Math.min(Math.max(t.pitch,0),.5*Math.PI),t.updateOrbit()}if(n.wheel){t.distance=Math.min(Math.max(t.distance+.006*n.wheel,1),16),t.updateOrbit()}}}},[[0,1,2]]]);
//# sourceMappingURL=main.406fb3766a02abe16077654e3fce47fd.js.map